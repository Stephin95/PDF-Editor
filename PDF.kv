<Screen_manager>:
    Main_window:
        name:'Main'
    Secondary_window:
        name:'Secondary'
    Imagetopdf_screen:
        name:'Img_t_pdf'
    MergePDF_screen:
        name:'MergePdf'



<Main_window>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            id: heading
            text: 'PDF Editor'
        GridLayout:
            cols:3
            rows:1
            Button:
                text:'Pdf Merge'
                on_press: root.manager.current = 'MergePdf'
                id: merge_button
            Button:
                text:'Pdf Page extract'
                on_press: root.manager.current = 'Secondary'
                id: merge_button
            Button:
                text:'Convert image to pdf'
                on_press: root.manager.current = 'Img_t_pdf'
                id: convert_button
        


<Secondary_window>:
    heading_label: heading_label
    description_label: description_label
    selection_label : selection_label
    BoxLayout:
        orientation: 'vertical'
        GridLayout:
            cols: 2
            Label:
                id: heading_label
                text: 'Merge PDFS'
            Button:
                text:'back'
                on_press: root.manager.current = 'Main'

        BoxLayout:
            Label:
                text: 'Files Selected : -'
            Label:
                id: selection_label
                text: 'No files loaded'
        GridLayout:
            cols: 2
            rows: 2
            Label:
                id: description_label
                text: 'Please select the files that need to be merged'
            Button:
                text:'Load files'
                id: load_but
                on_press:root.show_load()

            Label:
                id: Save_me_label
                text: 'Please select the save location'
            Button:
                text:'Save'
                id: save_but
                on_press:root.show_save()
            
            
<MergePDF_screen>:
<Imagetopdf_screen>:

             
<ErrorDialog>:
    error_label: error_label
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        Label:
            id: error_label
            text: 'An error occured'
        Button:
            text: "Cancel"
            on_release: root.cancel()

<CompletedDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        Image:
            source: 'completed.png'
            size: self.texture_size

        Button:
            text: "Close"
            on_release: root.cancel()    

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path)